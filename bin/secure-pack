#!/bin/bash
# Use PGP to lock files private files

# Preliminaries:
#   inst gpa seahorse

# Pack the directory
echo "Packing /home/seaman/Projects/Secure"
ls -la /home/seaman/Projects/Secure
[ ! -d "/home/seaman/Projects/Secure" ] && 
echo "No directory /home/seaman/Projects/Secure" && 
return 1

# Make the zip file
cd /home/seaman/Projects
echo "Packing the directory (Secure)"
echo "Zip"
zip -r "Secure" "Secure"

# Clean up the directory
[ ! -f "Secure.zip" ] && echo "Could not find file, Secure.zip" && return 1
mv Secure /tmp/priv$$

# Pack the file
echo 'Encrypt for mark.b.seaman@gmail.com'  
gpg --encrypt "Secure.zip"              &&

# Clean up the zip file
{
    if [ -f "Secure.zip.gpg" ]
    then
        mv "Secure.zip"     /tmp/privzip$$  
        mkdir -p ~/Archive/Git/Secure
        cp Secure.zip.gpg ~/Archive/Git/Secure
    else
        echo "No file,  Secure.zip.gpg" 
    fi
}


