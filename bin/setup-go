#!/bin/bash

# Setup the environment to run the go language

# Install prerequisit packages
sudo apt-get install bison gcc libc6-dev ed gawk make
sudo apt-get install mercurial
sudo apt-get install python-setuptools python-dev build-essential gcc

# Attempt to fix gcc bug
#sudo apt-get install yum
#sudo yum -y install glibc-devel
sudo apt-get install libc6-dev-i386

# Check variables
echo "Are these correct?"
echo 'export g=$HOME/go'
echo 'export $GOROOT=$HOME/go'
echo 'export $GOOS=linux'
echo 'export $GOARCH=386'
env | grep '^GO'

# Get the repository
hg clone -r release https://go.googlecode.com/hg/ $GOROOT

# Build the compiler
cd $GOROOT/src
./all.bash

